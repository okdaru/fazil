---
// ClientForm.astro - Corregido para asegurar la captura de todas las secciones en Airtable
---

<form id="clientForm" class="space-y-8 max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
  <h1 class="text-3xl font-bold text-center text-primary mb-8">Formulario de Información para Desarrollo Web</h1>
  <p class="text-gray-300 mb-8">Este formulario nos ayudará a recopilar toda la información necesaria para crear su página web profesional. Por favor, complete todos los campos posibles para garantizar un resultado óptimo y personalizado.</p>

  <!-- Sección 1: Información Básica del Negocio -->
  <div class="bg-gray-50 p-6 rounded-lg">
    <h2 class="text-xl font-semibold mb-4 text-primary">1. Información Básica del Negocio</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label for="companyName" class="block text-sm font-medium text-gray-700 mb-1">Nombre de la empresa/marca *</label>
        <input type="text" id="companyName" name="companyName" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
      <div>
        <label for="slogan" class="block text-sm font-medium text-gray-700 mb-1">Eslogan o tagline (si existe)</label>
        <input type="text" id="slogan" name="slogan" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
      
      <!-- Campo de industria mejorado con opciones predefinidas -->
      <div>
        <label for="industry" class="block text-sm font-medium text-gray-700 mb-1">Sector o industria *</label>
        <select id="industry" name="industry" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
          <option value="">Seleccione un sector</option>
          <option value="restaurante">Restaurante o servicio de alimentación</option>
          <option value="medico">Consultorio médico/Clínica</option>
          <option value="psicologia">Servicios psicológicos/Terapias</option>
          <option value="profesional">Servicios profesionales (abogados, contadores, etc.)</option>
          <option value="educacion">Educación y formación</option>
          <option value="otro">Otro</option>
        </select>
      </div>
      
      <!-- Campo adicional que aparece si selecciona "Otro" -->
      <div id="otherIndustryField" class="hidden">
        <label for="otherIndustry" class="block text-sm font-medium text-gray-700 mb-1">Especifique su sector *</label>
        <input type="text" id="otherIndustry" name="otherIndustry" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
      
      <div>
        <label for="foundedYear" class="block text-sm font-medium text-gray-700 mb-1">Año de fundación</label>
        <input type="number" id="foundedYear" name="foundedYear" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
      <div class="md:col-span-2">
        <label for="businessDescription" class="block text-sm font-medium text-gray-700 mb-1">Breve descripción del negocio *</label>
        <textarea id="businessDescription" name="businessDescription" rows="3" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
      </div>
      <div class="md:col-span-2">
        <label for="location" class="block text-sm font-medium text-gray-700 mb-1">Ubicación/dirección (si desea mostrarla)</label>
        <input type="text" id="location" name="location" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
    </div>
  </div>

  <!-- Sección 2: Información de Contacto -->
  <div class="bg-gray-50 p-6 rounded-lg">
    <h2 class="text-xl font-semibold mb-4 text-primary">2. Información de Contacto para el Proyecto</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label for="contactName" class="block text-sm font-medium text-gray-700 mb-1">Nombre de la persona de contacto *</label>
        <input type="text" id="contactName" name="contactName" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
      <div>
        <label for="contactPhone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono *</label>
        <input type="tel" id="contactPhone" name="contactPhone" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
      <div>
        <label for="contactEmail" class="block text-sm font-medium text-gray-700 mb-1">Correo electrónico *</label>
        <input type="email" id="contactEmail" name="contactEmail" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
      <div>
        <label for="whatsappNumber" class="block text-sm font-medium text-gray-700 mb-1">Número de WhatsApp para el botón de contacto *</label>
        <input type="tel" id="whatsappNumber" name="whatsappNumber" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
      <div class="md:col-span-2">
        <label for="whatsappText" class="block text-sm font-medium text-gray-700 mb-1">Texto predeterminado para el mensaje de WhatsApp</label>
        <input type="text" id="whatsappText" name="whatsappText" placeholder="Ej: Hola, me interesa conocer más sobre..." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
    </div>
  </div>

  <!-- Sección 3: Credenciales de GitHub -->
  <div class="bg-gray-50 p-6 rounded-lg">
    <h2 class="text-xl font-semibold mb-4 text-primary">3. Credenciales de GitHub</h2>
    <p class="text-sm text-gray-300 mb-4">Necesitamos que cree una cuenta en GitHub para el despliegue automático.</p>
    <div class="grid grid-cols-1 gap-6">
      <div>
        <label for="githubUsername" class="block text-sm font-medium text-gray-700 mb-1">Nombre de usuario de GitHub </label>
        <input type="text" id="githubUsername" name="githubUsername" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
      </div>
      <div>
        <p class="text-sm text-gray-300">La contraseña de GitHub debe ser enviada por un canal seguro. Nos pondremos en contacto para coordinar esto.</p>
      </div>
    </div>
  </div>

  <!-- Sección 4: Información Específica por Industria (Dinámica) -->
  <div id="industrySpecificSection" class="hidden bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
    <h2 class="text-xl font-semibold mb-4 text-primary">4. Información Específica del Sector</h2>
    <p class="text-sm text-gray-300 mb-6">Esta sección contiene preguntas específicas para su industria que nos ayudarán a personalizar mejor su página web.</p>
    
    <!-- Campos específicos para Restaurantes -->
    <div id="restauranteFields" class="hidden space-y-6">
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Información gastronómica</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label for="foodType" class="block text-sm font-medium text-gray-700 mb-1">Tipo de cocina/especialidad *</label>
            <input type="text" id="foodType" name="foodType" placeholder="Ej: Italiana, Fusión, Parrilla, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
          </div>
          <div class="md:col-span-2">
            <label for="menuCategories" class="block text-sm font-medium text-gray-700 mb-1">Categorías principales del menú *</label>
            <textarea id="menuCategories" name="menuCategories" rows="3" placeholder="Ej: Entradas, Platos principales, Postres, Bebidas, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div class="md:col-span-2">
            <label for="specialties" class="block text-sm font-medium text-gray-700 mb-1">Platos destacados/especialidades de la casa</label>
            <textarea id="specialties" name="specialties" rows="3" placeholder="Mencione los 3-5 platos más representativos de su restaurante" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
        </div>
      </div>
      
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Horarios y servicios</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label for="openingHours" class="block text-sm font-medium text-gray-700 mb-1">Horarios de atención *</label>
            <textarea id="openingHours" name="openingHours" rows="3" placeholder="Ej: Lunes a Viernes: 12:00 - 23:00, Sábados y Domingos: 13:00 - 00:00" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Servicios adicionales</label>
            <div class="space-y-2">
              <div class="flex items-start">
                <input id="delivery" name="additionalRestaurantServices" type="checkbox" value="delivery" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="delivery" class="ml-2 block text-sm text-gray-700">Delivery/Para llevar</label>
              </div>
              <div class="flex items-start">
                <input id="reservation" name="additionalRestaurantServices" type="checkbox" value="reservation" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="reservation" class="ml-2 block text-sm text-gray-700">Reservas</label>
              </div>
              <div class="flex items-start">
                <input id="events" name="additionalRestaurantServices" type="checkbox" value="events" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="events" class="ml-2 block text-sm text-gray-700">Eventos privados</label>
              </div>
            </div>
          </div>
          <div>
            <label for="ambience" class="block text-sm font-medium text-gray-700 mb-1">Ambiente/Estilo del local</label>
            <select id="ambience" name="ambience" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
              <option value="">Seleccione una opción</option>
              <option value="casual">Casual</option>
              <option value="elegante">Elegante/Formal</option>
              <option value="familiar">Familiar</option>
              <option value="tematico">Temático</option>
              <option value="otro">Otro</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Campos específicos para Consultorios Médicos -->
    <div id="medicoFields" class="hidden space-y-6">
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Especialidades y servicios</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label for="medicalSpecialties" class="block text-sm font-medium text-gray-700 mb-1">Especialidades médicas *</label>
            <textarea id="medicalSpecialties" name="medicalSpecialties" rows="3" placeholder="Ej: Cardiología, Pediatría, Medicina General, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div class="md:col-span-2">
            <label for="medicalServices" class="block text-sm font-medium text-gray-700 mb-1">Servicios principales *</label>
            <textarea id="medicalServices" name="medicalServices" rows="3" placeholder="Ej: Consultas, Procedimientos, Exámenes, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div class="md:col-span-2">
            <label for="insuranceInfo" class="block text-sm font-medium text-gray-700 mb-1">Convenios/Seguros aceptados</label>
            <textarea id="insuranceInfo" name="insuranceInfo" rows="2" placeholder="Liste los seguros y convenios médicos con los que trabaja" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
        </div>
      </div>
      
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Profesionales y atención</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label for="doctorProfiles" class="block text-sm font-medium text-gray-700 mb-1">Información de médicos/profesionales</label>
            <textarea id="doctorProfiles" name="doctorProfiles" rows="4" placeholder="Nombre, especialidad, formación y experiencia de cada profesional" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
            <p class="mt-1 text-xs text-gray-300">Esta información será utilizada para crear perfiles profesionales en su página web.</p>
          </div>
          <div>
            <label for="appointmentSystem" class="block text-sm font-medium text-gray-700 mb-1">Sistema de citas actual *</label>
            <select id="appointmentSystem" name="appointmentSystem" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
              <option value="">Seleccione una opción</option>
              <option value="telefono">Por teléfono</option>
              <option value="whatsapp">Por WhatsApp</option>
              <option value="email">Por email</option>
              <option value="presencial">Presencial</option>
              <option value="software">Software de gestión</option>
              <option value="otro">Otro</option>
            </select>
          </div>
          <div>
            <label for="appointmentInfo" class="block text-sm font-medium text-gray-700 mb-1">Información para pacientes</label>
            <textarea id="appointmentInfo" name="appointmentInfo" rows="3" placeholder="Documentos necesarios, preparación para citas, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Campos específicos para Servicios Psicológicos -->
    <div id="psicologiaFields" class="hidden space-y-6">
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Enfoque terapéutico</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label for="therapeuticApproaches" class="block text-sm font-medium text-gray-700 mb-1">Enfoques/modalidades terapéuticas *</label>
            <textarea id="therapeuticApproaches" name="therapeuticApproaches" rows="3" placeholder="Ej: Terapia Cognitivo-Conductual, Gestalt, Sistémica, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div>
            <label for="therapeuticSpecialties" class="block text-sm font-medium text-gray-700 mb-1">Especialidades *</label>
            <select id="therapeuticSpecialties" name="therapeuticSpecialties" multiple class="w-full p-2 h-32 border border-gray-300 rounded focus:ring-primary focus:border-primary">
              <option value="adultos">Adultos</option>
              <option value="ninos">Niños y adolescentes</option>
              <option value="parejas">Parejas</option>
              <option value="familiar">Terapia familiar</option>
              <option value="grupal">Terapia grupal</option>
              <option value="estres">Estrés y ansiedad</option>
              <option value="depresion">Depresión</option>
              <option value="trauma">Trauma</option>
              <option value="adicciones">Adicciones</option>
              <option value="duelo">Duelo</option>
            </select>
            <p class="mt-1 text-xs text-gray-300">Mantenga presionada la tecla Ctrl/Cmd para seleccionar múltiples opciones.</p>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Modalidades de atención</label>
            <div class="space-y-2">
              <div class="flex items-start">
                <input id="presencial" name="attendanceMode" type="checkbox" value="presencial" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="presencial" class="ml-2 block text-sm text-gray-700">Presencial</label>
              </div>
              <div class="flex items-start">
                <input id="online" name="attendanceMode" type="checkbox" value="online" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="online" class="ml-2 block text-sm text-gray-700">Online</label>
              </div>
              <div class="flex items-start">
                <input id="mixta" name="attendanceMode" type="checkbox" value="mixta" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="mixta" class="ml-2 block text-sm text-gray-700">Modalidad mixta</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Información profesional</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label for="therapistProfile" class="block text-sm font-medium text-gray-700 mb-1">Perfil del terapeuta/equipo *</label>
            <textarea id="therapistProfile" name="therapistProfile" rows="4" placeholder="Información profesional, formación, certificaciones y experiencia" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
            <p class="mt-1 text-xs text-gray-300">Esta información será utilizada para crear su perfil profesional en la página web.</p>
          </div>
          <div>
            <label for="sessionDuration" class="block text-sm font-medium text-gray-700 mb-1">Duración típica de sesiones</label>
            <select id="sessionDuration" name="sessionDuration" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
              <option value="">Seleccione una opción</option>
              <option value="30">30 minutos</option>
              <option value="45">45 minutos</option>
              <option value="50">50 minutos</option>
              <option value="60">60 minutos</option>
              <option value="90">90 minutos</option>
              <option value="otro">Otro</option>
            </select>
          </div>
          <div>
            <label for="frequencyInfo" class="block text-sm font-medium text-gray-700 mb-1">Frecuencia recomendada</label>
            <input type="text" id="frequencyInfo" name="frequencyInfo" placeholder="Ej: Semanal, Quincenal, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
          </div>
        </div>
      </div>
    </div>
    
    <!-- Campos específicos para Servicios Profesionales -->
    <div id="profesionalFields" class="hidden space-y-6">
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Servicios profesionales</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label for="professionalServices" class="block text-sm font-medium text-gray-700 mb-1">Servicios específicos que ofrece *</label>
            <textarea id="professionalServices" name="professionalServices" rows="4" placeholder="Detalle los servicios específicos que ofrece su empresa" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div class="md:col-span-2">
            <label for="workMethodology" class="block text-sm font-medium text-gray-700 mb-1">Metodología de trabajo</label>
            <textarea id="workMethodology" name="workMethodology" rows="3" placeholder="Describa su proceso de trabajo, fases o metodología que utiliza" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
        </div>
      </div>
      
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Credenciales y diferenciación</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label for="certifications" class="block text-sm font-medium text-gray-700 mb-1">Certificaciones y acreditaciones</label>
            <textarea id="certifications" name="certifications" rows="3" placeholder="Listado de certificaciones profesionales, licencias, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div>
            <label for="experience" class="block text-sm font-medium text-gray-700 mb-1">Experiencia relevante</label>
            <textarea id="experience" name="experience" rows="3" placeholder="Años de experiencia, sectores en los que ha trabajado, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div class="md:col-span-2">
            <label for="differentiators" class="block text-sm font-medium text-gray-700 mb-1">Elementos diferenciadores de su servicio *</label>
            <textarea id="differentiators" name="differentiators" rows="3" placeholder="¿Qué hace que sus servicios sean únicos o mejores que la competencia?" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Campos específicos para Educación y Formación -->
    <div id="educacionFields" class="hidden space-y-6">
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Programas educativos</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label for="educationalPrograms" class="block text-sm font-medium text-gray-700 mb-1">Programas o cursos ofrecidos *</label>
            <textarea id="educationalPrograms" name="educationalPrograms" rows="4" placeholder="Detalle los programas, cursos o talleres que ofrece su institución" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div>
            <label for="methodology" class="block text-sm font-medium text-gray-700 mb-1">Metodología educativa</label>
            <textarea id="methodology" name="methodology" rows="3" placeholder="Describa su enfoque pedagógico o metodología de enseñanza" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Modalidades ofrecidas</label>
            <div class="space-y-2">
              <div class="flex items-start">
                <input id="edu_presencial" name="educationMode" type="checkbox" value="presencial" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="edu_presencial" class="ml-2 block text-sm text-gray-700">Presencial</label>
              </div>
              <div class="flex items-start">
                <input id="edu_online" name="educationMode" type="checkbox" value="online" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="edu_online" class="ml-2 block text-sm text-gray-700">Online</label>
              </div>
              <div class="flex items-start">
                <input id="edu_hibrida" name="educationMode" type="checkbox" value="hibrida" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="edu_hibrida" class="ml-2 block text-sm text-gray-700">Híbrida</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="text-lg font-medium text-primary mb-3">Equipo e instalaciones</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label for="facultyInfo" class="block text-sm font-medium text-gray-700 mb-1">Información sobre profesores/instructores</label>
            <textarea id="facultyInfo" name="facultyInfo" rows="3" placeholder="Perfiles, experiencia y especialidades de los docentes" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          <div>
            <label for="facilities" class="block text-sm font-medium text-gray-700 mb-1">Instalaciones y recursos</label>
<textarea id="facilities" name="facilities" rows="3" placeholder="Describa las instalaciones, equipamiento y recursos disponibles" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
            </div>
            <div>
              <label for="scheduleInfo" class="block text-sm font-medium text-gray-700 mb-1">Horarios y calendarios</label>
              <textarea id="scheduleInfo" name="scheduleInfo" rows="3" placeholder="Información sobre horarios de clases, calendario académico, etc." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Campos específicos para Otros tipos de negocio -->
      <div id="otroFields" class="hidden space-y-6">
        <div class="bg-white p-4 rounded-lg shadow-sm">
          <div class="grid grid-cols-1 gap-4">
            <div>
              <label for="otherBusinessInfo" class="block text-sm font-medium text-gray-700 mb-1">Describa los detalles específicos de su negocio *</label>
              <textarea id="otherBusinessInfo" name="otherBusinessInfo" rows="6" placeholder="Por favor, proporcione toda la información relevante que crea que debemos conocer sobre su tipo de negocio para crear un sitio web efectivo." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
            </div>
            <div>
              <label for="otherBusinessFeatures" class="block text-sm font-medium text-gray-700 mb-1">Características o funcionalidades específicas que desea en su sitio web</label>
              <textarea id="otherBusinessFeatures" name="otherBusinessFeatures" rows="4" placeholder="Mencione cualquier característica o funcionalidad específica que le gustaría incluir en su página web." class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Sección 5: Productos o Servicios (General) -->
    <div class="bg-gray-50 p-6 rounded-lg">
      <h2 class="text-xl font-semibold mb-4 text-primary">5. Productos o Servicios Generales</h2>
      <div class="grid grid-cols-1 gap-6">
        <div>
          <label for="services" class="block text-sm font-medium text-gray-700 mb-1">Liste sus principales productos/servicios (máximo 5) *</label>
          <textarea id="services" name="services" rows="5" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary" placeholder="1. Servicio uno&#10;2. Servicio dos&#10;3. Servicio tres"></textarea>
        </div>
        <div>
          <label for="serviceDescriptions" class="block text-sm font-medium text-gray-700 mb-1">Descripción breve de cada producto/servicio *</label>
          <textarea id="serviceDescriptions" name="serviceDescriptions" rows="5" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
        </div>
        <div>
          <label for="servicePrices" class="block text-sm font-medium text-gray-700 mb-1">Precios de los productos/servicios (si desea mostrarlos)</label>
          <textarea id="servicePrices" name="servicePrices" rows="5" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
        </div>
        <div>
          <label for="serviceBenefits" class="block text-sm font-medium text-gray-700 mb-1">Beneficios o características destacadas de sus productos/servicios *</label>
          <textarea id="serviceBenefits" name="serviceBenefits" rows="5" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
        </div>
      </div>
    </div>
  
    <!-- Sección 6: Información sobre el Público Objetivo -->
    <div class="bg-gray-50 p-6 rounded-lg">
      <h2 class="text-xl font-semibold mb-4 text-primary">6. Información sobre el Público Objetivo</h2>
      <div class="grid grid-cols-1 gap-6">
        <div>
          <label for="targetAudience" class="block text-sm font-medium text-gray-700 mb-1">¿Quién es su cliente ideal? (Edad, ubicación, intereses, etc.) *</label>
          <textarea id="targetAudience" name="targetAudience" rows="3" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
        </div>
        <div>
          <label for="problemSolution" class="block text-sm font-medium text-gray-700 mb-1">¿Qué problema resuelve su producto/servicio para sus clientes? *</label>
          <textarea id="problemSolution" name="problemSolution" rows="3" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
        </div>
        <div>
          <label for="uniqueValue" class="block text-sm font-medium text-gray-700 mb-1">¿Por qué deberían elegirlo a usted en lugar de a la competencia? *</label>
          <textarea id="uniqueValue" name="uniqueValue" rows="3" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
        </div>
      </div>
    </div>
  
    <!-- Sección 7: Objetivos de la Página Web -->
    <div class="bg-gray-50 p-6 rounded-lg">
      <h2 class="text-xl font-semibold mb-4 text-primary">7. Objetivos de la página web</h2>
      <div class="grid grid-cols-1 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">¿Cuál es el objetivo principal de su página web? *</label>
          <div class="space-y-2">
            <div class="flex items-start">
              <input id="objective1" name="pageObjective" type="radio" value="Generar contactos" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary" required>
              <label for="objective1" class="ml-2 block text-sm text-gray-700">Generar contactos (leads)</label>
            </div>
            <div class="flex items-start">
              <input id="objective2" name="pageObjective" type="radio" value="Vender productos/servicios" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
              <label for="objective2" class="ml-2 block text-sm text-gray-700">Vender productos/servicios</label>
            </div>
            <div class="flex items-start">
              <input id="objective3" name="pageObjective" type="radio" value="Informar sobre la empresa/marca" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
              <label for="objective3" class="ml-2 block text-sm text-gray-700">Informar sobre la empresa/marca</label>
            </div>
            <div class="flex items-start">
              <input id="objective4" name="pageObjective" type="radio" value="Promocionar evento" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
              <label for="objective4" class="ml-2 block text-sm text-gray-700">Promocionar un evento o lanzamiento</label>
            </div>
            <div class="flex items-start">
              <input id="objective5" name="pageObjective" type="radio" value="Otro" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
              <label for="objective5" class="ml-2 block text-sm text-gray-700">Otro (especificar):</label>
              <input type="text" id="objectiveOther" name="objectiveOther" class="ml-2 p-1 border border-gray-300 rounded focus:ring-primary focus:border-primary">
            </div>
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">¿Qué acción específica quiere que realicen los visitantes? *</label>
          <div class="space-y-2">
            <div class="flex items-start">
              <input id="action1" name="desiredAction" type="radio" value="Contactar por WhatsApp" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary" required>
              <label for="action1" class="ml-2 block text-sm text-gray-700">Contactar por WhatsApp</label>
            </div>
            <div class="flex items-start">
              <input id="action2" name="desiredAction" type="radio" value="Llenar un formulario" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
              <label for="action2" class="ml-2 block text-sm text-gray-700">Llenar un formulario</label>
            </div>
            <div class="flex items-start">
              <input id="action3" name="desiredAction" type="radio" value="Llamar por teléfono" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
              <label for="action3" class="ml-2 block text-sm text-gray-700">Llamar por teléfono</label>
            </div>
            <div class="flex items-start">
              <input id="action4" name="desiredAction" type="radio" value="Visitar un local físico" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
              <label for="action4" class="ml-2 block text-sm text-gray-700">Visitar un local físico</label>
            </div>
            <div class="flex items-start">
              <input id="action5" name="desiredAction" type="radio" value="Comprar directamente" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
              <label for="action5" class="ml-2 block text-sm text-gray-700">Comprar directamente</label>
            </div>
            <div class="flex items-start">
              <input id="action6" name="desiredAction" type="radio" value="Otro" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
              <label for="action6" class="ml-2 block text-sm text-gray-700">Otro (especificar):</label>
              <input type="text" id="actionOther" name="actionOther" class="ml-2 p-1 border border-gray-300 rounded focus:ring-primary focus:border-primary">
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Sección 8: Elementos Visuales -->
    <div class="bg-gray-50 p-6 rounded-lg">
      <h2 class="text-xl font-semibold mb-4 text-primary">8. Elementos Visuales</h2>
      <p class="text-sm text-gray-300 mb-4">Por favor, proporcione todos los elementos visuales en alta resolución.</p>
      
      <div class="grid grid-cols-1 gap-6">
        <div>
          <label for="logo" class="block text-sm font-medium text-gray-700 mb-1">Logotipo (PNG o SVG con fondo transparente) *</label>
          <input type="file" id="logo" name="logo" accept=".png,.svg" required class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary">
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <label for="mainColor" class="block text-sm font-medium text-gray-700 mb-1">Color principal</label>
            <input type="color" id="mainColor" name="mainColor" class="w-full h-10 p-1 border border-gray-300 rounded">
          </div>
          <div>
            <label for="secondaryColor" class="block text-sm font-medium text-gray-700 mb-1">Color secundario</label>
            <input type="color" id="secondaryColor" name="secondaryColor" class="w-full h-10 p-1 border border-gray-300 rounded">
          </div>
          <div>
            <label for="accentColor" class="block text-sm font-medium text-gray-700 mb-1">Color acento</label>
            <input type="color" id="accentColor" name="accentColor" class="w-full h-10 p-1 border border-gray-300 rounded">
          </div>
        </div>
        
        <!-- Campo de imágenes de productos modificado con límite de 15 -->
        <div>
          <label for="productImages" class="block text-sm font-medium text-gray-700 mb-1">
            Imágenes de productos/servicios  <span class="text-xs text-gray-300">(Máximo 15 imágenes)</span>
          </label>
          <input 
            type="file" 
            id="productImages" 
            name="productImages" 
            accept="image/*" 
            multiple 
            class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"
          >
          <!-- Mensaje de error (oculto por defecto) -->
          <div id="imageErrorMessage" class="hidden mt-2 text-sm text-red-600 font-medium">
            Solo se permiten hasta 15 imágenes. Si necesita subir más, por favor contacte al administrador.
          </div>
          <!-- Contador de imágenes seleccionadas -->
          <div id="imageCounter" class="mt-2 text-sm text-gray-300">
            0 imágenes seleccionadas
          </div>
        </div>
        
        <div>
          <div class="bg-gray-50 p-6 rounded-lg">
            <label class="block text-sm font-medium text-gray-700 mb-2">¿Tiene preferencia por algún estilo visual? *</label>
            <div class="space-y-2">
              <div class="flex items-start">
                <input id="style1" name="visualStyle" type="radio" value="Minimalista" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary" required>
                <label for="style1" class="ml-2 block text-sm text-gray-700">Minimalista</label>
              </div>
              <div class="flex items-start">
                <input id="style2" name="visualStyle" type="radio" value="Corporativo" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
                <label for="style2" class="ml-2 block text-sm text-gray-700">Corporativo</label>
              </div>
              <div class="flex items-start">
                <input id="style3" name="visualStyle" type="radio" value="Moderno/Tecnológico" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
                <label for="style3" class="ml-2 block text-sm text-gray-700">Moderno/Tecnológico</label>
              </div>
              <div class="flex items-start">
                <input id="style4" name="visualStyle" type="radio" value="Artístico/Creativo" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
                <label for="style4" class="ml-2 block text-sm text-gray-700">Artístico/Creativo</label>
              </div>
              <div class="flex items-start">
                <input id="style5" name="visualStyle" type="radio" value="Otro" class="mt-1 h-4 w-4 text-primary border-gray-300 focus:ring-primary">
                <label for="style5" class="ml-2 block text-sm text-gray-700">Otro (especificar):</label>
                <input type="text" id="styleOther" name="styleOther" class="ml-2 p-1 border border-gray-300 rounded focus:ring-primary focus:border-primary">
              </div>
            </div>
          </div>          
      </div>
    </div>
  
    <!-- Sección 9: Estructura de la Página -->
    <div class="bg-gray-50 p-6 rounded-lg">
      <h2 class="text-xl font-semibold mb-4 text-primary">9. Estructura de la Página</h2>
      <p class="text-sm text-gray-300 mb-4">Su página web incluirá una página principal con varias secciones. Seleccione las que desea incluir:</p>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
        <div class="flex items-start">
          <input id="section1" name="pageSections[]" type="checkbox" value="hero" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary" checked disabled>
          <label for="section1" class="ml-2 block text-sm text-gray-700">Hero (sección principal con mensaje clave) - Siempre incluida</label>
        </div>
        <div class="flex items-start">
          <input id="section2" name="pageSections[]" type="checkbox" value="about" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
          <label for="section2" class="ml-2 block text-sm text-gray-700">Sobre Nosotros/Historia</label>
        </div>
        <div class="flex items-start">
          <input id="section3" name="pageSections[]" type="checkbox" value="services" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
          <label for="section3" class="ml-2 block text-sm text-gray-700">Servicios/Productos</label>
        </div>
        <div class="flex items-start">
          <input id="section4" name="pageSections[]" type="checkbox" value="benefits" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
          <label for="section4" class="ml-2 block text-sm text-gray-700">Beneficios/Características</label>
        </div>
        <div class="flex items-start">
          <input id="section5" name="pageSections[]" type="checkbox" value="testimonials" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
          <label for="section5" class="ml-2 block text-sm text-gray-700">Testimonios de clientes</label>
        </div>
        <div class="flex items-start">
          <input id="section6" name="pageSections[]" type="checkbox" value="portfolio" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
          <label for="section6" class="ml-2 block text-sm text-gray-700">Portafolio/Trabajos realizados</label>
        </div>
        <div class="flex items-start">
          <input id="section7" name="pageSections[]" type="checkbox" value="team" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
          <label for="section7" class="ml-2 block text-sm text-gray-700">Equipo</label>
        </div>
        <div class="flex items-start">
          <input id="section8" name="pageSections[]" type="checkbox" value="pricing" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
          <label for="section8" class="ml-2 block text-sm text-gray-700">Precios</label>
        </div>
        <div class="flex items-start">
          <input id="section9" name="pageSections[]" type="checkbox" value="faq" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
          <label for="section9" class="ml-2 block text-sm text-gray-700">FAQ (Preguntas frecuentes)</label>
        </div>
        <div class="flex items-start">
          <input id="section10" name="pageSections[]" type="checkbox" value="contact" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary" checked disabled>
          <label for="section10" class="ml-2 block text-sm text-gray-700">Contacto - Siempre incluida</label>
        </div>
        <div class="flex items-start md:col-span-2">
          <input id="section11" name="pageSections[]" type="checkbox" value="other" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
          <label for="section11" class="ml-2 block text-sm text-gray-700">Otras (especificar):</label>
          <input type="text" id="sectionsOther" name="sectionsOther" class="ml-2 p-1 border border-gray-300 rounded focus:ring-primary focus:border-primary">
        </div>
      </div>
      <!-- Campo oculto para asegurarse de que los valores siempre se envíen -->
      <input type="hidden" name="pageSectionsData" id="pageSectionsData" value="">
    </div>
  
    <!-- Sección 10: Contenido Adicional -->
    <div class="bg-gray-50 p-6 rounded-lg">
      <h2 class="text-xl font-semibold mb-4 text-primary">10. Contenido Adicional</h2>
      
      <div class="grid grid-cols-1 gap-6">
        <div>
          <label for="testimonials" class="block text-sm font-medium text-gray-700 mb-1">Testimonios de clientes (si tiene)</label>
          <textarea id="testimonials" name="testimonials" rows="4" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary" placeholder="Nombre del cliente: Juan Pérez&#10;Texto del testimonio: Esta empresa ha transformado nuestro negocio..."></textarea>
        </div>
        
        <div>
          <label for="faq" class="block text-sm font-medium text-gray-700 mb-1">Preguntas frecuentes (FAQ)</label>
          <textarea id="faq" name="faq" rows="4" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary" placeholder="Pregunta: ¿Cuánto tiempo toma implementar el servicio?&#10;Respuesta: Nuestro servicio se implementa en..."></textarea>
        </div>
        
        <div>
          <label for="socialLinks" class="block text-sm font-medium text-gray-700 mb-1">Enlaces a redes sociales</label>
          <textarea id="socialLinks" name="socialLinks" rows="4" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary" placeholder="Facebook: https://facebook.com/miempresa&#10;Instagram: https://instagram.com/miempresa"></textarea>
        </div>
      </div>
    </div>
  
    <!-- Sección 11: Requisitos Técnicos Adicionales -->
    <div class="bg-gray-50 p-6 rounded-lg">
        <h2 class="text-xl font-semibold mb-4 text-primary">11. Requisitos Técnicos Adicionales</h2>
        
        <div class="grid grid-cols-1 gap-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">¿Necesita algún servicios adicional? (Implican costos extra)</label>
            <div class="space-y-2">
              
              
              
              <div class="flex items-start">
                <input id="addon4" name="additionalTechServices[]" type="checkbox" value="other" class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="addon4" class="ml-2 block text-sm text-gray-700">Otro servicio (por favor, indíquenos cuál):</label>
                <input type="text" id="addonsOther" name="addonsOther" class="ml-2 p-1 border border-gray-300 rounded focus:ring-primary focus:border-primary">
              </div>
            </div>
          </div>
          
          <p class="text-sm text-gray-300 mb-4">Para solicitar la instalación de Google Tag Manager o Analytics, por favor mencione esta necesidad directamente a nuestro contacto de WhatsApp una vez enviado el formulario.</p>

        </div>
      </div>
      
      <!-- Sección 12: Referencias y Competencia -->
      <div class="bg-gray-50 p-6 rounded-lg">
        <h2 class="text-xl font-semibold mb-4 text-primary">12. Referencias y Competencia</h2>
        
        <div class="grid grid-cols-1 gap-6">
          <div>
            <label for="references" class="block text-sm font-medium text-gray-700 mb-1">¿Hay algún sitio web que le guste y quiera tomar como referencia? (Proporcione enlaces)</label>
            <textarea id="references" name="references" rows="3" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
          
          <div>
            <label for="competitors" class="block text-sm font-medium text-gray-700 mb-1">¿Quiénes son sus principales competidores? (Proporcione enlaces a sus sitios web si es posible)</label>
            <textarea id="competitors" name="competitors" rows="3" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Sección 13: Información Adicional -->
      <div class="bg-gray-50 p-6 rounded-lg">
        <h2 class="text-xl font-semibold mb-4 text-primary">13. Información Adicional</h2>
        
        <div>
          <label for="additionalInfo" class="block text-sm font-medium text-gray-700 mb-1">¿Hay algo más que debamos saber para desarrollar su página web de manera efectiva?</label>
          <textarea id="additionalInfo" name="additionalInfo" rows="4" class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"></textarea>
        </div>
      </div>
      <!-- Sección para Formulario de Contacto (No obligatorio) -->
<div class="bg-gray-50 p-6 rounded-lg">
  <h2 class="text-xl font-semibold mb-4 text-primary">14. Preguntas para el Formulario de Contacto</h2>
  <p class="text-sm text-gray-300 mb-4">Introduzca las preguntas que desea incluir en su formulario de contacto (máximo 15). Escriba una pregunta por línea.</p>
  
  <div>
    <label for="contactFormQuestions" class="block text-sm font-medium text-gray-700 mb-1">Preguntas para su formulario de contacto (opcional)</label>
    <textarea 
      id="contactFormQuestions" 
      name="contactFormQuestions" 
      rows="10" 
      placeholder="Ejemplo:
Nombre completo
Correo electrónico
Teléfono
¿Cuál es el motivo de su contacto?
¿Cómo nos encontró?
..." 
      class="w-full p-2 border border-gray-300 rounded focus:ring-primary focus:border-primary"
    ></textarea>
    <p class="mt-2 text-xs text-gray-300">Cada línea será una pregunta separada en el formulario. El sistema automáticamente incluirá campos para nombre, correo y mensaje si no los especifica.</p>
  </div>
  
  
</div>
          
<div class="flex items-start mt-4">
  <input id="termsAccepted" name="termsAccepted" type="checkbox" required class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">
  <label for="termsAccepted" class="ml-2 block text-sm text-gray-700">
    Al enviar este formulario, confirmo que he leído y acepto los términos y condiciones del servicio.
  </label>
</div>
        </div>
      
      <!-- Botón de envío -->
      <div class="text-center">
        <button type="submit" class="bg-primary hover:bg-primary-dark text-white font-bold py-3 px-8 rounded-lg transition-colors">
          Enviar Solicitud
        </button>
      </div>
      
      <!-- Estado de envío - Oculto inicialmente -->
      <div id="formStatus" class="hidden mt-6 p-4 rounded-lg text-center"></div>
    </form>
      
<!-- Script para manejar la validación de imágenes y el formulario dinámico -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('clientForm') as HTMLFormElement;
    const formStatus = document.getElementById('formStatus') as HTMLDivElement;
    const productImagesInput = document.getElementById('productImages') as HTMLInputElement;
    const imageErrorMessage = document.getElementById('imageErrorMessage') as HTMLDivElement;
    const imageCounter = document.getElementById('imageCounter') as HTMLDivElement;
    const industrySelect = document.getElementById('industry') as HTMLSelectElement;
    const otherIndustryField = document.getElementById('otherIndustryField') as HTMLDivElement;
    
    // Sección de campos específicos por industria
    const industrySpecificSection = document.getElementById('industrySpecificSection') as HTMLDivElement;
    
    // Campos específicos para cada industria
    const restauranteFields = document.getElementById('restauranteFields') as HTMLDivElement;
    const medicoFields = document.getElementById('medicoFields') as HTMLDivElement;
    const psicologiaFields = document.getElementById('psicologiaFields') as HTMLDivElement;
    const profesionalFields = document.getElementById('profesionalFields') as HTMLDivElement;
    const educacionFields = document.getElementById('educacionFields') as HTMLDivElement;
    const otroFields = document.getElementById('otroFields') as HTMLDivElement;
    
    // Constante para el límite de imágenes
    const MAX_IMAGES = 15;
    
    // Función para recopilar campos de selección múltiple (checkbox y select multiple)
    function collectMultiSelectData(container: HTMLElement, checkboxName: string): string[] {
      const values: string[] = [];
      if (!container) return values;
      
      // Recopilar todos los checkbox marcados
      const checkboxes = container.querySelectorAll(`input[name="${checkboxName}"]:checked`);
      checkboxes.forEach((checkbox) => {
        const inputEl = checkbox as HTMLInputElement;
        if (inputEl.value) {
          values.push(inputEl.value);
        }
      });
      
      return values;
    }
    
    // Función para manejar la sección 4 (Información Específica del Sector)
    function serializeIndustrySpecificData(): Record<string, any> {
      const industryType = industrySelect?.value;
      const industryData: Record<string, any> = {};
      
      if (industryType === 'restaurante' && !restauranteFields?.classList.contains('hidden')) {
        // Texto simple
        const foodTypeEl = document.getElementById('foodType') as HTMLInputElement;
        industryData.foodType = foodTypeEl?.value || '';
        
        const menuCategoriesEl = document.getElementById('menuCategories') as HTMLTextAreaElement;
        industryData.menuCategories = menuCategoriesEl?.value || '';
        
        const specialtiesEl = document.getElementById('specialties') as HTMLTextAreaElement;
        industryData.specialties = specialtiesEl?.value || '';
        
        const openingHoursEl = document.getElementById('openingHours') as HTMLTextAreaElement;
        industryData.openingHours = openingHoursEl?.value || '';
        
        // Multi-select para servicios adicionales
        industryData.restaurantServices = collectMultiSelectData(restauranteFields, 'additionalRestaurantServices');
        
        // Select
        const ambienceEl = document.getElementById('ambience') as HTMLSelectElement;
        industryData.ambience = ambienceEl?.value || '';
      } 
      else if (industryType === 'medico' && !medicoFields?.classList.contains('hidden')) {
        // Texto simple
        const medicalSpecialtiesEl = document.getElementById('medicalSpecialties') as HTMLTextAreaElement;
        industryData.medicalSpecialties = medicalSpecialtiesEl?.value || '';
        
        const medicalServicesEl = document.getElementById('medicalServices') as HTMLTextAreaElement;
        industryData.medicalServices = medicalServicesEl?.value || '';
        
        const insuranceInfoEl = document.getElementById('insuranceInfo') as HTMLTextAreaElement;
        industryData.insuranceInfo = insuranceInfoEl?.value || '';
        
        const doctorProfilesEl = document.getElementById('doctorProfiles') as HTMLTextAreaElement;
        industryData.doctorProfiles = doctorProfilesEl?.value || '';
        
        const appointmentInfoEl = document.getElementById('appointmentInfo') as HTMLTextAreaElement;
        industryData.appointmentInfo = appointmentInfoEl?.value || '';
        
        // Select
        const appointmentSystemEl = document.getElementById('appointmentSystem') as HTMLSelectElement;
        industryData.appointmentSystem = appointmentSystemEl?.value || '';
      }
      else if (industryType === 'psicologia' && !psicologiaFields?.classList.contains('hidden')) {
        // Texto simple
        const therapeuticApproachesEl = document.getElementById('therapeuticApproaches') as HTMLTextAreaElement;
        industryData.therapeuticApproaches = therapeuticApproachesEl?.value || '';
        
        const therapistProfileEl = document.getElementById('therapistProfile') as HTMLTextAreaElement;
        industryData.therapistProfile = therapistProfileEl?.value || '';
        
        const frequencyInfoEl = document.getElementById('frequencyInfo') as HTMLInputElement;
        industryData.frequencyInfo = frequencyInfoEl?.value || '';
        
        // Select múltiple
        const therapeuticSpecialtiesSelect = document.getElementById('therapeuticSpecialties') as HTMLSelectElement;
        if (therapeuticSpecialtiesSelect) {
          industryData.therapeuticSpecialties = Array.from(therapeuticSpecialtiesSelect.selectedOptions).map(option => option.value);
        }
        
        // Multi-select para modalidades
        industryData.attendanceMode = collectMultiSelectData(psicologiaFields, 'attendanceMode');
        
        // Select
        const sessionDurationEl = document.getElementById('sessionDuration') as HTMLSelectElement;
        industryData.sessionDuration = sessionDurationEl?.value || '';
      }
      else if (industryType === 'profesional' && !profesionalFields?.classList.contains('hidden')) {
        // Texto simple
        const professionalServicesEl = document.getElementById('professionalServices') as HTMLTextAreaElement;
        industryData.professionalServices = professionalServicesEl?.value || '';
        
        const workMethodologyEl = document.getElementById('workMethodology') as HTMLTextAreaElement;
        industryData.workMethodology = workMethodologyEl?.value || '';
        
        const certificationsEl = document.getElementById('certifications') as HTMLTextAreaElement;
        industryData.certifications = certificationsEl?.value || '';
        
        const experienceEl = document.getElementById('experience') as HTMLTextAreaElement;
        industryData.experience = experienceEl?.value || '';
        
        const differentiatorsEl = document.getElementById('differentiators') as HTMLTextAreaElement;
        industryData.differentiators = differentiatorsEl?.value || '';
      }
      else if (industryType === 'educacion' && !educacionFields?.classList.contains('hidden')) {
        // Texto simple
        const educationalProgramsEl = document.getElementById('educationalPrograms') as HTMLTextAreaElement;
        industryData.educationalPrograms = educationalProgramsEl?.value || '';
        
        const methodologyEl = document.getElementById('methodology') as HTMLTextAreaElement;
        industryData.methodology = methodologyEl?.value || '';
        
        const facultyInfoEl = document.getElementById('facultyInfo') as HTMLTextAreaElement;
        industryData.facultyInfo = facultyInfoEl?.value || '';
        
        const facilitiesEl = document.getElementById('facilities') as HTMLTextAreaElement;
        industryData.facilities = facilitiesEl?.value || '';
        
        const scheduleInfoEl = document.getElementById('scheduleInfo') as HTMLTextAreaElement;
        industryData.scheduleInfo = scheduleInfoEl?.value || '';
        
        // Multi-select para modalidades educativas
        industryData.educationMode = collectMultiSelectData(educacionFields, 'educationMode');
      }
      else if (industryType === 'otro' && !otroFields?.classList.contains('hidden')) {
        // Texto simple
        const otherBusinessInfoEl = document.getElementById('otherBusinessInfo') as HTMLTextAreaElement;
        industryData.otherBusinessInfo = otherBusinessInfoEl?.value || '';
        
        const otherBusinessFeaturesEl = document.getElementById('otherBusinessFeatures') as HTMLTextAreaElement;
        industryData.otherBusinessFeatures = otherBusinessFeaturesEl?.value || '';
      }
      
      return industryData;
    }
    
    // Función para recopilar información sobre los objetivos de la página web (sección 7)
    function collectWebsiteObjectives(): Record<string, string> {
      const pageObjectiveEl = document.querySelector('input[name="pageObjective"]:checked') as HTMLInputElement;
      const objectiveOtherEl = document.getElementById('objectiveOther') as HTMLInputElement;
      const desiredActionEl = document.querySelector('input[name="desiredAction"]:checked') as HTMLInputElement;
      const actionOtherEl = document.getElementById('actionOther') as HTMLInputElement;
      
      const objectives: Record<string, string> = {
        pageObjective: pageObjectiveEl?.value || '',
        objectiveOther: objectiveOtherEl?.value || '',
        desiredAction: desiredActionEl?.value || '',
        actionOther: actionOtherEl?.value || ''
      };
      
      return objectives;
    }
    
    // Función para recopilar los datos de la sección 9 (Estructura de la Página)
    function collectPageSections(): string[] {
      const selectedSections: string[] = [];
      
      // Recopilar todas las secciones marcadas (activas y disabled)
      document.querySelectorAll('input[name="pageSections[]"]').forEach((checkbox) => {
        const inputEl = checkbox as HTMLInputElement;
        if (inputEl.checked) {
          selectedSections.push(inputEl.value);
        }
      });
      
      // Manejar opciones adicionales
      const otherSectionsOption = document.getElementById('section11') as HTMLInputElement;
      const otherSectionsText = document.getElementById('sectionsOther') as HTMLInputElement;
      
      if (otherSectionsOption?.checked && otherSectionsText?.value) {
        selectedSections.push(`other:${otherSectionsText.value}`);
      }
      
      return selectedSections;
    }
    
    // Recopilar datos de servicios técnicos adicionales (sección 11)
    function collectAdditionalTechServices(): string[] {
      return collectMultiSelectData(document.body, 'additionalTechServices[]');
    }
    
    // Mostrar/ocultar campos según la industria seleccionada
    if (industrySelect) {
      industrySelect.addEventListener('change', function() {
        const selectedValue = this.value;
        
        // Mostrar/ocultar campo "Otro"
        if (otherIndustryField) {
          otherIndustryField.classList.toggle('hidden', selectedValue !== 'otro');
        }
        
        // Mostrar/ocultar la sección específica de industria
        if (industrySpecificSection) {
          industrySpecificSection.classList.toggle('hidden', selectedValue === '');
          
          // Ocultar todos los campos específicos de industria
          if (restauranteFields) restauranteFields.classList.add('hidden');
          if (medicoFields) medicoFields.classList.add('hidden');
          if (psicologiaFields) psicologiaFields.classList.add('hidden');
          if (profesionalFields) profesionalFields.classList.add('hidden');
          if (educacionFields) educacionFields.classList.add('hidden');
          if (otroFields) otroFields.classList.add('hidden');
          
          // Mostrar solo los campos de la industria seleccionada
          switch(selectedValue) {
            case 'restaurante':
              if (restauranteFields) restauranteFields.classList.remove('hidden');
              break;
            case 'medico':
              if (medicoFields) medicoFields.classList.remove('hidden');
              break;
            case 'psicologia':
              if (psicologiaFields) psicologiaFields.classList.remove('hidden');
              break;
            case 'profesional':
              if (profesionalFields) profesionalFields.classList.remove('hidden');
              break;
            case 'educacion':
              if (educacionFields) educacionFields.classList.remove('hidden');
              break;
            case 'otro':
              if (otroFields) otroFields.classList.remove('hidden');
              break;
          }
        }
      });
    }
    
    // Validar número de imágenes seleccionadas
    if (productImagesInput) {
      productImagesInput.addEventListener('change', function() {
        const filesCount = this.files ? this.files.length : 0;
        
        // Actualizar contador
        if (imageCounter) {
          imageCounter.textContent = `${filesCount} ${filesCount === 1 ? 'imagen seleccionada' : 'imágenes seleccionadas'}`;
        }
        
        // Verificar límite de imágenes
        if (filesCount > MAX_IMAGES) {
          // Mostrar mensaje de error
          if (imageErrorMessage) {
            imageErrorMessage.classList.remove('hidden');
          }
          
          // Deshabilitar el botón de envío
          const submitButton = form?.querySelector('button[type="submit"]') as HTMLButtonElement;
          if (submitButton) {
            submitButton.disabled = true;
            submitButton.classList.add('opacity-50', 'cursor-not-allowed');
          }
        } else {
          // Ocultar mensaje de error
          if (imageErrorMessage) {
            imageErrorMessage.classList.add('hidden');
          }
          
          // Habilitar el botón de envío
          const submitButton = form?.querySelector('button[type="submit"]') as HTMLButtonElement;
          if (submitButton) {
            submitButton.disabled = false;
            submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
          }
        }
      });
    }
    
    // Envío del formulario
    if (form && formStatus) {
      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Verificar de nuevo el límite de imágenes antes de enviar
        if (productImagesInput && productImagesInput.files && productImagesInput.files.length > MAX_IMAGES) {
          if (imageErrorMessage) {
            imageErrorMessage.classList.remove('hidden');
          }
          return; // Evitar envío del formulario
        }
        
        formStatus.textContent = 'Enviando formulario...';
        formStatus.className = 'mt-6 p-4 rounded-lg text-center bg-yellow-100 text-yellow-800';
        formStatus.style.display = 'block';
        
        const formData = new FormData(form);
        
        // Si se selecciona "otro" en industria, usar el valor personalizado
        if (industrySelect?.value === 'otro') {
          const otherIndustryValue = (document.getElementById('otherIndustry') as HTMLInputElement)?.value;
          if (otherIndustryValue) {
            formData.set('industry', otherIndustryValue);
          }
        }
        
        // Procesar campos de industria específica
        const industrySpecificData = serializeIndustrySpecificData();
        formData.set('industrySpecificData', JSON.stringify(industrySpecificData));
        
        // Procesar objetivos de la página web
        const websiteObjectives = collectWebsiteObjectives();
        formData.set('websiteObjectives', JSON.stringify(websiteObjectives));
        
        // Procesar secciones de página
        const pageSections = collectPageSections();
        formData.set('pageSections', JSON.stringify(pageSections));
        
        // Procesar servicios técnicos adicionales
        const additionalTechServices = collectAdditionalTechServices();
        formData.set('additionalTechServices', JSON.stringify(additionalTechServices));
        
        try {
          const response = await fetch('/api/submit-form', {
            method: 'POST',
            body: formData
          });
          
          const result = await response.json();
          
          if (response.ok) {
            formStatus.textContent = '¡Formulario enviado con éxito! Nos pondremos en contacto con usted pronto.';
            formStatus.className = 'mt-6 p-4 rounded-lg text-center bg-green-100 text-green-800';
            form.reset();
            
            // Resetear contador de imágenes
            if (imageCounter) {
              imageCounter.textContent = '0 imágenes seleccionadas';
            }
            
            // Resetear la sección específica de industria
            if (industrySpecificSection) {
              industrySpecificSection.classList.add('hidden');
            }
          } else {
            throw new Error(result.message || 'Hubo un error al enviar el formulario');
          }
        } catch (error: any) {
          formStatus.textContent = `Error: ${error.message || 'Desconocido'}. Por favor, intente nuevamente o contáctenos directamente.`;
          formStatus.className = 'mt-6 p-4 rounded-lg text-center bg-red-100 text-red-800';
        }
      });
    }
  });
</script>